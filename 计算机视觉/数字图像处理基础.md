# 数字图像处理
## 图像处理中平滑和锐化操作是什么？
**平滑处理（smoothing）也称模糊处理（bluring）**，主要用于**消除图像中的噪声部分**，平滑处理常用的用途是用来减少图像上的噪点或失真，平滑主要使用图像滤波。在这里，我个人认为可以把图像平滑和图像滤波联系起来，因为图像平滑常用的方法就是图像滤波器。在OpenCV3中常用的图像滤波器有以下几种：

+ 方框滤波——BoxBlur函数
+ 均值滤波（邻域平均滤波）——Blur函数
+ 高斯滤波——GaussianBlur函数（高斯低通滤波是模糊，高斯高通滤波是锐化）
+ 中值滤波——medianBlur函数
+ 双边滤波——bilateralFilter函数

图像锐化操作是为了突出显示图像的边界和其他细节，而图像锐化实现的方法是通过各种算子和滤波器实现的——`Canny` 算子、`Sobel` 算子、`Laplacian` 算子以及 `Scharr` 滤波器。
## 图像锐化方法
**锐化主要影响图像中的低频分量，不影响图像中的高频分量**像锐化的主要目的有两个：
1. 增强图像边缘，使模糊的图像变得更加清晰，颜色变得鲜明突出，图像的质量有所改善，产生更适合人眼观察和识别的图像；
2. 过锐化处理后，目标物体的边缘鲜明，以便于提取目标的边缘、对图像进行分割、目标区域识别、区域形状提取等，进一步的图像理解与分析奠定基础。

图像锐化一般有两种方法：
1. 微分法
2. 高通滤波法

一般来说，图像的能量主要集中在其低频部分，噪声所在的频段主要在高频段，同时图像边缘信息也主要集中在其高频部分。这将导致原始图像在平滑处理之后，图像边缘和图像轮廓模糊的情况出现。为了减少这类不利效果的影响，就需要利用图像锐化技术，使图像的边缘变得清晰。图像锐化处理的目的是为了使图像的边缘、轮廓线以及图像的细节变得清晰，经过平滑的图像变得模糊的根本原因是因为图像受到了平均或积分运算，因此可以对其进行逆运算(如微分运算)就可以使图像变得清晰。微分运算是求信号的变化率，由傅立叶变换的微分性质可知，微分运算具有较强高频分量作用。从频率域来考虑，图像模糊的实质是因为其高频分量被衰减，因此可以用高通滤波器来使图像清晰。但要注意能够进行锐化处理的图像必须有较高的性噪比，否则锐化后图像性噪比反而更低，从而使得噪声增加的比信号还要多，因此一般是先去除或减轻噪声后再进行锐化处理。
### Reference
[图像增强－图像锐化](https://www.cnblogs.com/BYTEMAN/archive/2012/07/21/2603021.html)
## numpy手撕代码
人脸识别的场景下，输入105*12的feature map，用这个在1000512的特征库当中用欧氏距离去匹配105*12的feature map，用这个在1000*512的特征库当中用欧氏距离去匹配10*1000的特征，得到这个output。